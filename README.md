# URL Shortener Service

[![Go Version](https://img.shields.io/badge/Go-1.21+-blue.svg)](https://golang.org/dl/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![CI/CD](https://github.com/SergeiKhy/url-shortener/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/SergeiKhy/url-shortener/actions/workflows/ci-cd.yml)
[![Coverage](https://img.shields.io/badge/coverage-80%25-brightgreen.svg)]()

Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ ÑĞ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ URL Ğ½Ğ° Go Ñ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ ĞºĞ»Ğ¸ĞºĞ¾Ğ², Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ², Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹ Ğ¿Ğ¾ API ĞºĞ»ÑÑ‡Ğ°Ğ¼ Ğ¸ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¾Ğ¹.

## ğŸš€ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

- **Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ URL** â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº Ğ¸Ğ· Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… URL
- **ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ ĞºĞ¾Ğ´Ñ‹** â€” Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ ÑĞ²Ğ¾ĞµĞ³Ğ¾ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ°
- **Ğ˜ÑÑ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ ÑÑÑ‹Ğ»Ğ¾Ğº** â€” ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¶Ğ¸Ğ·Ğ½Ğ¸ Ğ´Ğ»Ñ ÑÑÑ‹Ğ»Ğ¾Ğº
- **ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞºĞ¾Ğ²** â€” Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ»Ğ¸ĞºĞ¾Ğ² Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Worker Pool
- **ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°** â€” Ğ¾Ğ±Ñ‰Ğ¸Ğµ ĞºĞ»Ğ¸ĞºĞ¸, ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»Ğ¸ĞºĞ¸, Ğ´Ğ½ĞµĞ²Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- **Rate Limiting** â€” Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¿Ğ¾ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñƒ Token Bucket
- **API Key Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ** â€” Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° API Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ ĞºĞ»ÑÑ‡ĞµĞ¹
- **ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** â€” Redis Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- **Graceful Shutdown** â€” ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
- **Swagger Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ** â€” Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API

## ğŸ“‹ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Go 1.21+
- Docker & Docker Compose
- PostgreSQL 15+
- Redis 7+

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ĞšĞ»Ğ¸ĞµĞ½Ñ‚    â”‚â”€â”€â”€â”€â–¶â”‚  Gin Router  â”‚â”€â”€â”€â”€â–¶â”‚  Handlers   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Rate    â”‚      â”‚    Services    â”‚
                    â”‚  Limiter  â”‚      â”‚  (Ğ‘Ğ¸Ğ·Ğ½ĞµÑ)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API     â”‚      â”‚  Repositories  â”‚
                    â”‚   Key     â”‚      â”‚   (Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚               â”‚               â”‚
                        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                        â”‚ PostgreSQLâ”‚  â”‚    Redis    â”‚  â”‚ Workers â”‚
                        â”‚   (Ğ‘Ğ”)    â”‚  â”‚   (ĞšÑÑˆ)     â”‚  â”‚(ĞšĞ»Ğ¸ĞºĞ¸)  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ |
|-----------|------------|
| Ğ¯Ğ·Ñ‹Ğº | Go 1.21+ |
| Web Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº | Gin |
| Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | PostgreSQL 15 |
| ĞšÑÑˆ | Redis 7 |
| ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | golang-migrate |
| Ğ›Ğ¾Ğ³Ğ³ĞµÑ€ | Zap |
| ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ | Viper |
| Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | testify, testcontainers |

## ğŸ“¦ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ

```bash
git clone https://github.com/SergeiKhy/url-shortener.git
cd url-shortener
```

### 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

```bash
cp .env.example .env
# ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ .env Ğ¿Ğ¾Ğ´ Ğ²Ğ°ÑˆĞ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
```

### 3. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ñ‡ĞµÑ€ĞµĞ· Docker

```bash
make docker-up
```

### 4. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Ğ‘Ğ”

```bash
# Ğ¡ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ migrate
migrate -path migration -database "postgres://user:password@localhost:5432/shortener?sslmode=disable" up

# Ğ˜Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Docker
docker-compose exec api ./migrate -path /app/migration -database "postgres://user:password@postgres:5432/shortener?sslmode=disable" up
```

### 5. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```bash
make run
```

Ğ˜Ğ»Ğ¸ ÑĞ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº:

```bash
make build
./bin/api
```

## ğŸ“– Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API

### Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚Ğµ:
- **Swagger UI**: http://localhost:8080/docs
- **Swagger JSON**: http://localhost:8080/docs/swagger.json

### API Endpoints

#### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ

```http
GET /api/v1/health
```

ĞÑ‚Ğ²ĞµÑ‚:
```json
{
  "status": "ok",
  "service": "url-shortener"
}
```

#### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸

```http
POST /api/v1/links
Content-Type: application/json
X-API-Key: your-api-key (ĞµÑĞ»Ğ¸ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾)

{
  "url": "https://example.com/very/long/url",
  "expires_in": 60,        // Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹
  "custom_code": "my-code" // Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, 4-12 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
}
```

ĞÑ‚Ğ²ĞµÑ‚ (201 Created):
```json
{
  "short_code": "abc123xyz",
  "short_url": "http://localhost:8080/abc123xyz",
  "original_url": "https://example.com/very/long/url",
  "expires_at": "2024-01-15T12:00:00Z",
  "created_at": "2024-01-15T11:00:00Z"
}
```

#### Ğ ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ URL

```http
GET /:code
```

ĞÑ‚Ğ²ĞµÑ‚: 307 Temporary Redirect

#### Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑÑÑ‹Ğ»ĞºĞ¸

```http
DELETE /api/v1/links/:code
```

ĞÑ‚Ğ²ĞµÑ‚ (200 OK):
```json
{
  "message": "Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ°"
}
```

#### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ ĞºĞ»Ğ¸ĞºĞ¾Ğ²

```http
GET /api/v1/links/:code/stats
```

ĞÑ‚Ğ²ĞµÑ‚:
```json
{
  "short_code": "abc123xyz",
  "total_clicks": 150,
  "unique_clicks": 75
}
```

#### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ¹ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸

```http
GET /api/v1/links/:code/stats/daily?days=7
```

ĞÑ‚Ğ²ĞµÑ‚:
```json
[
  {"date": "2024-01-15", "clicks": 25},
  {"date": "2024-01-14", "clicks": 30}
]
```

## ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° API ĞºĞ»ÑÑ‡ĞµĞ¹

API ĞºĞ»ÑÑ‡Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½ÑƒÑ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ `API_KEYS`:

```bash
# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: key1:name1,key2:name2
API_KEYS=secret-key-1:Production,secret-key-2:Development
```

### Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ±Ñ‹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ API ĞºĞ»ÑÑ‡Ğ°

API ĞºĞ»ÑÑ‡ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ¼Ñ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ°Ğ¼Ğ¸:

1. **Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº** (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ):
   ```
   X-API-Key: your-api-key
   ```

2. **Query Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€**:
   ```
   GET /api/v1/links?api_key=your-api-key
   ```

3. **Bearer Ñ‚Ğ¾ĞºĞµĞ½**:
   ```
   Authorization: Bearer your-api-key
   ```

## âš¡ Rate Limiting

Rate limiting Ğ²ĞºĞ»ÑÑ‡Ñ‘Ğ½ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ ÑĞ¾ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ğ¼Ğ¸:

| ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° | ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-----------|--------------|----------|
| `RATE_LIMIT_RPS` | 10 | Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´Ñƒ |
| `RATE_LIMIT_BURST` | 20 | ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ burst |

ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ² `.env`:
```bash
RATE_LIMIT_RPS=10
RATE_LIMIT_BURST=20
```

ĞŸÑ€Ğ¸ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¸Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°:
```json
{
  "error": "rate_limit_exceeded",
  "message": "Ğ¡Ğ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ², Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ",
  "retry_after": 60
}
```

## ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ»Ğ¸ĞºĞ¾Ğ² (Worker Pool)

Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Worker Pool Ğ´Ğ»Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ»Ğ¸ĞºĞ¾Ğ²:

- **3 Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ°** Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ ĞºĞ»Ğ¸ĞºĞ¾Ğ² Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾
- **Ğ‘ÑƒÑ„ĞµÑ€ ĞºĞ°Ğ½Ğ°Ğ»Ğ°** Ğ½Ğ° 1000 ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
- **Retry Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°** Ñ ÑĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹
- **Non-blocking** â€” ĞºĞ»Ğ¸ĞºĞ¸ Ğ½Ğµ Ğ·Ğ°Ğ¼ĞµĞ´Ğ»ÑÑÑ‚ Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚Ñ‹

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Worker Pool

```
Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚Ğ°
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Handler   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Channel   â”‚â”€â”€â”€â”€â–¶â”‚ Worker 1 â”‚     â”‚ Worker 2 â”‚
â”‚  (buffer)   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                â”‚
       â”‚                  â–¼                â–¼
       â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚           â”‚    PostgreSQL (clicks)  â”‚
       â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
  Ğ ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ (Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾)
```

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞ½Ğ¸Ñ‚-Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```bash
make test
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ñ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼

```bash
go test ./... -v -cover -coverprofile=coverage.out
go tool cover -html=coverage.out -o coverage.html
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```bash
# Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Docker Ğ´Ğ»Ñ testcontainers
go test ./tests/... -v
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ°

```bash
go test ./internal/service/... -run TestLinkService_CreateLink -v
```

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
url-shortener/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ main.go              # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.go            # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹
â”‚   â”œâ”€â”€ handler/
â”‚   â”‚   â”œâ”€â”€ router.go            # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° HTTP Ñ€Ğ¾ÑƒÑ‚ĞµÑ€Ğ°
â”‚   â”‚   â”œâ”€â”€ link_handler.go      # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ ÑÑÑ‹Ğ»Ğ¾Ğº
â”‚   â”‚   â”œâ”€â”€ health.go            # Health check handler
â”‚   â”‚   â””â”€â”€ swagger.go           # Swagger Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ ratelimit.go         # Rate limiting middleware
â”‚   â”‚   â””â”€â”€ apikey.go            # API key Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ link.go              # ĞœĞ¾Ğ´ĞµĞ»Ğ¸ ÑÑÑ‹Ğ»Ğ¾Ğº
â”‚   â”‚   â””â”€â”€ click.go             # ĞœĞ¾Ğ´ĞµĞ»Ğ¸ ĞºĞ»Ğ¸ĞºĞ¾Ğ²
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ repository.go        # PostgreSQL Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ redis.go             # Redis Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ link_repository.go   # Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ ÑÑÑ‹Ğ»Ğ¾Ğº
â”‚   â”‚   â”œâ”€â”€ cache_repository.go  # Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ĞºÑÑˆÑƒ
â”‚   â”‚   â””â”€â”€ click_repository.go  # Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ ĞºĞ»Ğ¸ĞºĞ¾Ğ²
â”‚   â””â”€â”€ service/
â”‚       â”œâ”€â”€ link_service.go      # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° ÑÑÑ‹Ğ»Ğ¾Ğº
â”‚       â”œâ”€â”€ click_processor.go   # Worker pool ĞºĞ»Ğ¸ĞºĞ¾Ğ²
â”‚       â””â”€â”€ mocks/               # ĞœĞ¾ĞºÑ‹ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²
â”œâ”€â”€ migration/
â”‚   â””â”€â”€ 000001_init.sql          # ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ‘Ğ”
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ integration_test.go      # Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ swagger.json             # Swagger ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ swagger-ui.html          # Swagger UI
â”œâ”€â”€ .env.example                 # Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ docker-compose.yml           # Docker ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
â”œâ”€â”€ Dockerfile                   # ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ Makefile                     # ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑĞ±Ğ¾Ñ€ĞºĞ¸
â””â”€â”€ go.mod                       # Go Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
```

## ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

| ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ | ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------------|--------------|----------|
| `APP_PORT` | 8080 | ĞŸĞ¾Ñ€Ñ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ° |
| `DB_HOST` | localhost | Ğ¥Ğ¾ÑÑ‚ PostgreSQL |
| `DB_PORT` | 5432 | ĞŸĞ¾Ñ€Ñ‚ PostgreSQL |
| `DB_USER` | user | ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ‘Ğ” |
| `DB_PASSWORD` | password | ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ Ğ‘Ğ” |
| `DB_NAME` | shortener | Ğ˜Ğ¼Ñ Ğ‘Ğ” |
| `REDIS_HOST` | localhost | Ğ¥Ğ¾ÑÑ‚ Redis |
| `REDIS_PORT` | 6379 | ĞŸĞ¾Ñ€Ñ‚ Redis |
| `LOG_LEVEL` | debug | Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ |
| `RATE_LIMIT_RPS` | 10 | Ğ›Ğ¸Ğ¼Ğ¸Ñ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²/ÑĞµĞºÑƒĞ½Ğ´Ñƒ |
| `RATE_LIMIT_BURST` | 20 | Ğ Ğ°Ğ·Ğ¼ĞµÑ€ burst Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ° |
| `API_KEYS` | - | API ĞºĞ»ÑÑ‡Ğ¸ (key:name,key:name) |

## ğŸ³ Docker

### Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

```bash
# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°
docker build -t url-shortener .

# Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
docker run -p 8080:8080 --env-file .env url-shortener
```

### Docker Compose

```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
docker-compose up -d

# ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»Ğ¾Ğ³Ğ¾Ğ²
docker-compose logs -f

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
docker-compose down
```

## ğŸ“ˆ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

### Health Check

```bash
curl http://localhost:8080/api/v1/health
```

### Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Click Processor

Click Processor Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ ĞºĞ°Ğ½Ğ°Ğ»Ğ° Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°:

```go
stats := clickProcessor.GetChannelStats()
// stats.BufferSize - ĞĞ±Ñ‰Ğ°Ñ Ñ‘Ğ¼ĞºĞ¾ÑÑ‚ÑŒ ĞºĞ°Ğ½Ğ°Ğ»Ğ°
// stats.BufferUsed - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸
// stats.WorkerCount - ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ñ‹
```

## ğŸ”§ CI/CD

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **GitHub Actions** Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞ±Ğ¾Ñ€ĞºĞ¸, Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Docker-Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ².

### ğŸ“Š ĞŸĞ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ CI/CD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Build    â”‚â”€â”€â”€â”€â–¶â”‚    Test     â”‚â”€â”€â”€â”€â–¶â”‚    Lint     â”‚â”€â”€â”€â”€â–¶â”‚  Docker Push    â”‚
â”‚  (ÑĞ±Ğ¾Ñ€ĞºĞ°)   â”‚     â”‚   (Ñ‚ĞµÑÑ‚Ñ‹)   â”‚     â”‚  (Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°) â”‚     â”‚  (Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                   â”‚
                                                                   â–¼
                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚  GHCR Registry  â”‚
                                                          â”‚ ghcr.io/...     â”‚
                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°

| Ğ­Ñ‚Ğ°Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° |
|------|----------|---------|
| **Build** | Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ±Ğ¸Ğ½Ğ°Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ° | `go build -v -o bin/api ./cmd/api` |
| **Test** | Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ñ coverage | `go test ./... -v -cover -race` |
| **Lint** | Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ° | `golangci-lint run` |
| **Docker** | Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ push Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° | `docker build & push` |

### ğŸ³ Docker Registry (GHCR)

ĞĞ±Ñ€Ğ°Ğ·Ñ‹ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒÑÑ‚ÑÑ Ğ² **GitHub Container Registry**:

```bash
# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°
ghcr.io/SergeiKhy/url-shortener:<tag>

# Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ñ‚ĞµĞ³Ğ¸:
ghcr.io/SergeiKhy/url-shortener:main      # ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¸Ğ· main
ghcr.io/SergeiKhy/url-shortener:develop    # ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¸Ğ· develop
ghcr.io/SergeiKhy/url-shortener:<sha>      # ĞŸĞ¾ commit SHA
ghcr.io/SergeiKhy/url-shortener:v1.2.3     # Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸
```

### ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°

**ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:**
- Push Ğ² Ğ²ĞµÑ‚ĞºÑƒ `main` Ğ¸Ğ»Ğ¸ `develop`
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Pull Request

**Ğ’Ñ€ÑƒÑ‡Ğ½ÑƒÑ:**
```bash
# Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿ĞµÑ€ĞµĞ´ push
make test
make build

# Ğ˜Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· GitHub CLI
gh workflow run ci-cd.yml
```

### ğŸ“ Ğ¤Ğ°Ğ¹Ğ»Ñ‹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

| Ğ¤Ğ°Ğ¹Ğ» | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|----------|
| `.github/workflows/ci-cd.yml` | ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ GitHub Actions |
| `.golangci.yml` | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ»Ğ¸Ğ½Ñ‚ĞµÑ€Ğ° golangci-lint |

### ğŸ”‘ Ğ¡ĞµĞºÑ€ĞµÑ‚Ñ‹

Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ° **Ğ½Ğµ Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ÑÑ** Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑĞµĞºÑ€ĞµÑ‚Ñ‹ â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ `GITHUB_TOKEN`.

Ğ”Ğ»Ñ **Ğ°Ğ²Ñ‚Ğ¾Ğ´ĞµĞ¿Ğ»Ğ¾Ñ** (ĞµÑĞ»Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚Ğµ) Ğ¿Ğ¾Ğ½Ğ°Ğ´Ğ¾Ğ±ÑÑ‚ÑÑ:
- `VPS_HOST` â€” Ñ…Ğ¾ÑÑ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
- `SSH_KEY` â€” Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğ¹ SSH ĞºĞ»ÑÑ‡

### ğŸ“Š ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²

1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ²ĞºĞ»Ğ°Ğ´ĞºÑƒ **Actions** Ğ½Ğ° GitHub
2. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ workflow **CI/CD**
3. ĞšĞ»Ğ¸ĞºĞ½Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° Ğ»Ğ¾Ğ³Ğ¾Ğ²

### ğŸ·ï¸ Ğ‘ĞµĞ¹Ğ´Ğ¶Ğ¸ Ğ´Ğ»Ñ README

```markdown
[![CI/CD](https://github.com/SergeiKhy/url-shortener/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/SergeiKhy/url-shortener/actions/workflows/ci-cd.yml)
```

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

1. **API ĞºĞ»ÑÑ‡Ğ¸** â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ»ÑÑ‡Ğ¸
2. **Rate Limiting** â€” Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ DDoS Ğ¸ Ğ·Ğ»Ğ¾ÑƒĞ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğ¹
3. **Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…** â€” Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ° URL Ğ¸ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ñ… ĞºĞ¾Ğ´Ğ¾Ğ²
4. **Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ ÑĞ¿Ğ°Ğ¼Ğ°** â€” Ñ‡Ñ‘Ñ€Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… Ğ²Ñ€ĞµĞ´Ğ¾Ğ½Ğ¾ÑĞ½Ñ‹Ñ… Ğ´Ğ¾Ğ¼ĞµĞ½Ğ¾Ğ²
5. **SQL Injection** â€” Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ñ‡ĞµÑ€ĞµĞ· pgx

## ğŸ¤ Ğ’ĞºĞ»Ğ°Ğ´ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚

1. Ğ¤Ğ¾Ñ€ĞºĞ½Ğ¸Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ²ĞµÑ‚ĞºÑƒ (`git checkout -b feature/amazing-feature`)
3. Ğ—Ğ°ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ÑŒÑ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ (`git commit -m 'Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ amazing feature'`)
4. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² Ğ²ĞµÑ‚ĞºÑƒ (`git push origin feature/amazing-feature`)
5. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Pull Request

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ»Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ğ¾Ğ´ MIT License â€” Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ [LICENSE](LICENSE).

## ğŸ™ Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸

- [Gin Web Framework](https://github.com/gin-gonic/gin)
- [pgx - PostgreSQL Driver](https://github.com/jackc/pgx)
- [Go Redis](https://github.com/redis/go-redis)
- [Zap Logger](https://github.com/uber-go/zap)
- [Viper Configuration](https://github.com/spf13/viper)

---

**Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾ Ñ â¤ï¸ SergeiKhy**
